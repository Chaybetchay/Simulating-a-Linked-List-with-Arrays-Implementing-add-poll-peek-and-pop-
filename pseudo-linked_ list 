import java.util.Scanner;

public class PseudoLinkedList {
    public static int[] number;   // main array
    public static int[] tempnum;  // temporary array for resizing
    public static int counter = 0; // number of elements
    public static Scanner sc = new Scanner(System.in);

    public static void main(String[] args) {
        mainSystem();
    }

    public static void mainSystem() {
        boolean running = true;

        while (running) {
            System.out.println("\nChoose operation:");
            System.out.println("1 - Add");
            System.out.println("2 - Peek");
            System.out.println("3 - Poll");
            System.out.println("4 - Pop");
            System.out.println("5 - Display");
            System.out.println("6 - Clear");
            System.out.println("0 - Exit");
            System.out.print("Enter choice: ");

            int choice = Integer.parseInt(sc.nextLine());

            switch (choice) {
                case 1:
                    System.out.print("Enter number: ");
                    int value = Integer.parseInt(sc.nextLine());
                    add(value);
                    break;
                case 2:
                    System.out.println("Peek: " + peek());
                    break;
                case 3:
                    System.out.println("Polled: " + poll());
                    break;
                case 4:
                    System.out.println("Popped: " + pop());
                    break;
                case 5:
                    display();
                    break;
                case 6:
                    clear();
                    break;
                case 0:
                    running = false;
                    break;
                default:
                    System.out.println("Invalid choice.");
            }
        }
        System.out.println("Ending...");
    }

    // Add element at the end
    public static void add(int x) {
        tempnum = number;
        number = new int[counter + 1];
        if (tempnum != null) {
            for (int i = 0; i < counter; i++) {
                number[i] = tempnum[i];
            }
        }
        number[counter] = x;
        counter++;
        System.out.println(x + " added.");
    }

    // Peek (first element)
    public static int peek() {
        if (counter == 0) {
            return -1;
        }
        return number[0];
    }

    // Poll (remove first element)
    public static int poll() {
        if (counter == 0) {
            return -1;
        }
        int first = number[0];
        tempnum = number;
        number = new int[counter - 1];
        for (int i = 1; i < counter; i++) {
            number[i - 1] = tempnum[i];
        }
        counter--;
        return first;
    }

    // Pop (remove last element)
    public static int pop() {
        if (counter == 0) {
            return -1;
        }
        int last = number[counter - 1];
        tempnum = number;
        number = new int[counter - 1];
        for (int i = 0; i < counter - 1; i++) {
            number[i] = tempnum[i];
        }
        counter--;
        return last;
    }

    // Clear all elements
    public static void clear() {
        number = null;
        counter = 0;
        System.out.println("List cleared.");
    }

    // Display array
    public static void display() {
        if (counter == 0) {
            System.out.println("[]");
            return;
        }
        System.out.print("[");
        for (int i = 0; i < counter; i++) {
            if (i == 0) {
                System.out.print(number[i]);
            } else {
                System.out.print(", " + number[i]);
            }
        }
        System.out.println("]");
    }
}